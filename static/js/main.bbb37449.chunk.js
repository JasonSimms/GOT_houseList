(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,a,t){e.exports=t(68)},41:function(e,a,t){},68:function(e,a,t){"use strict";t.r(a);var n=t(1),l=t.n(n),o=t(9),r=t.n(o),c=(t(39),t(41),t(11)),s=t(12),i=t(16),u=t(13),p=t(17),m=t(5),d=t(3),g=t(0),h=t.n(g);d.c.propTypes={tag:h.a.oneOfType([h.a.func,h.a.string]),flush:h.a.bool,className:h.a.string,cssModule:h.a.object};var f=function(e){var a=e.houses.map(function(a,t){return l.a.createElement(d.d,{key:t,to:"/"+a.name,onClick:function(){return e.clicked(a.url)}},a.name)});return l.a.createElement(d.c,null,a)},E=t(31),v=function(e){var a=e.house;delete a.url;var t=Object.keys(a).map(function(t){return a[t].includes("https")?l.a.createElement(E.Get,{url:""+a[t]},function(e,a,n,o){return e?l.a.createElement("div",null,"Something bad happened: ",e.message," ",l.a.createElement("button",{onClick:function(){return o({params:{reload:!0}})}},"Retry")):n?l.a.createElement("div",null,"Loading..."):null!==a?l.a.createElement("tr",{key:t},l.a.createElement("th",{scope:"row"},t),l.a.createElement("td",null,a.data.name," ")):l.a.createElement("div",null,"Default message before request is made.")}):""==a[t]?null:l.a.createElement("tr",{key:t},l.a.createElement("th",{scope:"row"},t),l.a.createElement("td",null,e.house[t]))});return l.a.createElement(d.b,null,l.a.createElement("h2",null,"House Details"),l.a.createElement(d.i,{striped:!0,bordered:!0},l.a.createElement("thead",null),l.a.createElement("tbody",null,t)))},b=function(e){function a(){return Object(c.a)(this,a),Object(i.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(d.e,{"aria-label":"Page navigation example"},l.a.createElement(d.f,null,l.a.createElement(d.g,{previous:!0,onClick:function(){return e.props.pageRev()}})),l.a.createElement(d.f,null,l.a.createElement(d.g,{onClick:function(){return e.props.pageTo(1)}},"1")),l.a.createElement(d.f,null,l.a.createElement(d.g,{onClick:function(){return e.props.pageTo(2)}},"2")),l.a.createElement(d.f,null,l.a.createElement(d.g,{onClick:function(){return e.props.pageTo(3)}},"3")),l.a.createElement(d.f,null,l.a.createElement(d.g,{onClick:function(){return e.props.pageTo(4)}},"4")),l.a.createElement(d.f,null,l.a.createElement(d.g,{onClick:function(){return e.props.pageTo(5)}},"5")),l.a.createElement(d.f,null,l.a.createElement(d.g,{onClick:function(){return e.props.pageTo(6)}},"6")),l.a.createElement(d.f,null,l.a.createElement(d.g,{onClick:function(){return e.props.pageTo(7)}},"7")),l.a.createElement(d.f,null,l.a.createElement(d.g,{onClick:function(){return e.props.pageTo(8)}},"8")),l.a.createElement(d.f,null,l.a.createElement(d.g,{onClick:function(){return e.props.pageTo(9)}},"9")),l.a.createElement(d.f,null),l.a.createElement(d.f,null,l.a.createElement(d.g,{next:!0,ck:function(){return e.props.pageAdv()}})))}}]),a}(l.a.Component);d.e.propTypes={children:h.a.node,className:h.a.string,listClassName:h.a.string,cssModule:h.a.object,size:h.a.string,tag:h.a.oneOfType([h.a.func,h.a.string]),listTag:h.a.oneOfType([h.a.func,h.a.string]),"aria-label":h.a.string},d.f.propTypes={active:h.a.bool,children:h.a.node,className:h.a.string,cssModule:h.a.object,disabled:h.a.bool,tag:h.a.oneOfType([h.a.func,h.a.string])},d.g.propTypes={children:h.a.node,className:h.a.string,cssModule:h.a.object,next:h.a.bool,previous:h.a.bool,tag:h.a.oneOfType([h.a.func,h.a.string]),"aria-label":h.a.string};var k=t(10),y=t.n(k),N=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).state={error:null,isLoaded:!1,isNamed:!1,selectedHouse:null,displayedHouse:null,houses:[],apiPage:1},t._clicked=t._clicked.bind(Object(m.a)(Object(m.a)(t))),t._prepareDisplay=t._prepareDisplay.bind(Object(m.a)(Object(m.a)(t))),t._getNames=t._getNames.bind(Object(m.a)(Object(m.a)(t))),t._paginateNav=t._paginateNav.bind(Object(m.a)(Object(m.a)(t))),t._paginateNavAdv=t._paginateNavAdv.bind(Object(m.a)(Object(m.a)(t))),t._paginateNavRev=t._paginateNavRev.bind(Object(m.a)(Object(m.a)(t))),t}return Object(p.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;y.a.get("https://www.anapioficeandfire.com/api/houses?page=".concat(this.state.apiPage,"&pageSize=50")).then(function(a){e.setState({isLoaded:!0,houses:a.data})},function(a){e.setState({isLoaded:!0,error:a})})}},{key:"componentWillUpdate",value:function(){var e=this;y.a.get("https://www.anapioficeandfire.com/api/houses?page=".concat(this.state.apiPage,"&pageSize=50")).then(function(a){e.setState({isLoaded:!0,houses:a.data})},function(a){e.setState({isLoaded:!0,error:a})})}},{key:"render",value:function(){var e=this.state,a=e.error,t=e.isLoaded;e.houses;return a?l.a.createElement("div",null,"Error: ",a.message):t?l.a.createElement(d.b,null,l.a.createElement(d.h,null,l.a.createElement(b,{pageTo:this._paginateNav,pageAdv:this._paginateNavAdv,pageRev:this._paginateNavRev})),l.a.createElement(d.h,null,l.a.createElement(d.a,{xs:"4",className:"nav-list"},l.a.createElement(f,{houses:this.state.houses,clicked:this._clicked})),l.a.createElement(d.a,{xs:"8",className:"house-details"},this.state.isNamed&&l.a.createElement(v,{house:this.state.displayedHouse})))):l.a.createElement("div",null,"Loading...")}},{key:"_clicked",value:function(e){var a=this.state.houses.find(function(a){return a.url===e});this.setState({displayedHouse:a,isNamed:!0})}},{key:"_prepareDisplay",value:function(){console.log("prepareDisplay->",this.state.selectedHouse),this._getNames(this.state.selectedHouse).then(console.log("done"))}},{key:"_getNames",value:function(e){var a=this;return new Promise(function(t,n){var l=e;delete l.url,Object.keys(l).forEach(function(e){l[e].includes("https")&&(console.log("fetching something"),a._loadJson(l[e]).then(function(a){return l[e]=a.name}))}),t(l)})}},{key:"_paginateNav",value:function(e){this.setState({apiPage:e}),console.log(this.state.apiPage)}},{key:"_paginateNavAdv",value:function(){var e=this.state.apiPage;e<9&&(e+=1),this.setState({apiPage:e}),console.log(this.state.apiPage)}},{key:"_paginateNavRev",value:function(){var e=this.state.apiPage;e>1&&(e-=1),this.setState({apiPage:e}),console.log(this.state.apiPage)}}]),a}(l.a.Component),O=t(70),j=t(72),_=t(71),T=t(69),w=function(){return l.a.createElement("div",{className:"container landing"},l.a.createElement("div",{className:"intro"},l.a.createElement("h1",{className:"title"},"Welcome to Game of Thrones House List by Jason Simms"),l.a.createElement("h3",{className:"subtitle"},"A ReactJS challenge for Piet."),l.a.createElement(T.a,{to:"/main"},l.a.createElement("button",{className:"button"},"See all GOT Houses"))))},C=function(){return l.a.createElement("div",{className:"container"},l.a.createElement("h1",null,"Not found!"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(O.a,null,l.a.createElement("div",null,l.a.createElement(j.a,null,l.a.createElement(_.a,{exact:!0,path:"/",component:w}),l.a.createElement(_.a,{path:"/main",component:N}),l.a.createElement(_.a,{component:C})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[34,2,1]]]);
//# sourceMappingURL=main.bbb37449.chunk.js.map